{"remainingRequest":"/home/milliweb/Téléchargements/vuetify-material-dashboard-v1.0.0/vuetify-material-dashboard-v1.0.0/node_modules/babel-loader/lib/index.js!/home/milliweb/Téléchargements/vuetify-material-dashboard-v1.0.0/vuetify-material-dashboard-v1.0.0/src/store/actions.js","dependencies":[{"path":"/home/milliweb/Téléchargements/vuetify-material-dashboard-v1.0.0/vuetify-material-dashboard-v1.0.0/src/store/actions.js","mtime":1541002226936},{"path":"/home/milliweb/Téléchargements/vuetify-material-dashboard-v1.0.0/vuetify-material-dashboard-v1.0.0/node_modules/cache-loader/dist/cjs.js","mtime":1540996730980},{"path":"/home/milliweb/Téléchargements/vuetify-material-dashboard-v1.0.0/vuetify-material-dashboard-v1.0.0/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["// https://vuex.vuejs.org/en/actions.html\nexport default {\n  login: function login(_ref, user) {\n    var commit = _ref.commit;\n    return new Promise(function (resolve, reject) {\n      commit('auth_request');\n      axios.post('Useraccount', {\n        email: user.email,\n        password: user.password\n      }).then(function (resp) {\n        var token = resp.data.token;\n        var user = resp.data;\n        localStorage.setItem('token', token); // Add the following line:\n\n        axios.defaults.headers.common['Authorization'] = token;\n        commit('auth_success', {\n          token: token,\n          user: user\n        });\n        resolve(resp);\n      }).catch(function (err) {\n        commit('auth_error');\n        localStorage.removeItem('token');\n        reject(err);\n      });\n    });\n  },\n  register: function register(_ref2, user) {\n    var commit = _ref2.commit;\n    return new Promise(function (resolve, reject) {\n      commit('auth_request');\n      axios.post('http://localhost:8080/offreeduwar/api/Useraccount/login/' + user.email + '/' + user.password).then(function (resp) {\n        var token = resp.data.token;\n        var user = resp.data.user;\n        localStorage.setItem('token', token); // Add the following line:\n\n        axios.defaults.headers.common['Authorization'] = token;\n        commit('auth_success', token, user);\n        resolve(resp);\n      }).catch(function (err) {\n        commit('auth_error', err);\n        localStorage.removeItem('token');\n        reject(err);\n      });\n    });\n  },\n  logout: function logout(_ref3) {\n    var commit = _ref3.commit;\n    return new Promise(function (resolve, reject) {\n      commit('logout');\n      localStorage.removeItem('token');\n      delete axios.defaults.headers.common['Authorization'];\n      resolve();\n    });\n  }\n};",{"version":3,"sources":["/home/milliweb/Téléchargements/vuetify-material-dashboard-v1.0.0/vuetify-material-dashboard-v1.0.0/src/store/actions.js"],"names":["login","user","commit","Promise","resolve","reject","axios","post","email","password","then","resp","token","data","localStorage","setItem","defaults","headers","common","catch","err","removeItem","register","logout"],"mappings":"AAAA;AAEA,eAAe;AACbA,EAAAA,KADa,uBACGC,IADH,EACQ;AAAA,QAAdC,MAAc,QAAdA,MAAc;AACnB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCH,MAAAA,MAAM,CAAC,cAAD,CAAN;AACEI,MAAAA,KAAK,CAACC,IAAN,CAAW,aAAX,EAA2B;AACjCC,QAAAA,KAAK,EAAEP,IAAI,CAACO,KADqB;AAEjCC,QAAAA,QAAQ,EAAER,IAAI,CAACQ;AAFkB,OAA3B,EAIDC,IAJC,CAII,UAAAC,IAAI,EAAI;AACV,YAAMC,KAAK,GAAGD,IAAI,CAACE,IAAL,CAAUD,KAAxB;AACR,YAAMX,IAAI,GAAGU,IAAI,CAACE,IAAlB;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,KAA9B,EAHkB,CAIV;;AACAN,QAAAA,KAAK,CAACU,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDN,KAAjD;AACAV,QAAAA,MAAM,CAAC,cAAD,EAAiB;AAAEU,UAAAA,KAAK,EAALA,KAAF;AAASX,UAAAA,IAAI,EAAJA;AAAT,SAAjB,CAAN;AACAG,QAAAA,OAAO,CAACO,IAAD,CAAP;AACH,OAZC,EAaDQ,KAbC,CAaK,UAAAC,GAAG,EAAI;AACVlB,QAAAA,MAAM,CAAC,YAAD,CAAN;AACRY,QAAAA,YAAY,CAACO,UAAb,CAAwB,OAAxB;AACQhB,QAAAA,MAAM,CAACe,GAAD,CAAN;AACH,OAjBC;AAkBL,KApBM,CAAP;AAqBH,GAvBc;AAwBdE,EAAAA,QAxBc,2BAwBKrB,IAxBL,EAwBU;AAAA,QAAdC,MAAc,SAAdA,MAAc;AACvB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAClCH,MAAAA,MAAM,CAAC,cAAD,CAAN;AACEI,MAAAA,KAAK,CAACC,IAAN,CAAW,6DAA4DN,IAAI,CAACO,KAAjE,GAAuE,GAAvE,GAA2EP,IAAI,CAACQ,QAA3F,EACDC,IADC,CACI,UAAAC,IAAI,EAAI;AACV,YAAMC,KAAK,GAAGD,IAAI,CAACE,IAAL,CAAUD,KAAxB;AACA,YAAMX,IAAI,GAAGU,IAAI,CAACE,IAAL,CAAUZ,IAAvB;AACAa,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,KAA9B,EAHU,CAIV;;AACAN,QAAAA,KAAK,CAACU,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDN,KAAjD;AACAV,QAAAA,MAAM,CAAC,cAAD,EAAiBU,KAAjB,EAAwBX,IAAxB,CAAN;AACAG,QAAAA,OAAO,CAACO,IAAD,CAAP;AACH,OATC,EAUDQ,KAVC,CAUK,UAAAC,GAAG,EAAI;AACVlB,QAAAA,MAAM,CAAC,YAAD,EAAekB,GAAf,CAAN;AACAN,QAAAA,YAAY,CAACO,UAAb,CAAwB,OAAxB;AACAhB,QAAAA,MAAM,CAACe,GAAD,CAAN;AACH,OAdC;AAeL,KAjBI,CAAP;AAkBD,GA3Cc;AA4CfG,EAAAA,MA5Ce,yBA4CC;AAAA,QAARrB,MAAQ,SAARA,MAAQ;AACd,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCH,MAAAA,MAAM,CAAC,QAAD,CAAN;AACAY,MAAAA,YAAY,CAACO,UAAb,CAAwB,OAAxB;AACA,aAAOf,KAAK,CAACU,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP;AACAd,MAAAA,OAAO;AACV,KALM,CAAP;AAMD;AAnDc,CAAf","sourcesContent":["// https://vuex.vuejs.org/en/actions.html\n\nexport default {\n  login({commit}, user){\n    return new Promise((resolve, reject) => {\n        commit('auth_request')\n          axios.post('Useraccount',  {\n    email: user.email,\n    password: user.password\n    })\n        .then(resp => {\n            const token = resp.data.token\n    const user = resp.data\n    localStorage.setItem('token', token)\n            // Add the following line:\n            axios.defaults.headers.common['Authorization'] = token\n            commit('auth_success', { token, user })\n            resolve(resp)\n        })\n        .catch(err => {\n            commit('auth_error')\n    localStorage.removeItem('token')\n            reject(err)\n        })\n    })\n},\n register({commit}, user){\n  return new Promise((resolve, reject) => {\n        commit('auth_request')\n          axios.post('http://localhost:8080/offreeduwar/api/Useraccount/login/'+ user.email+'/'+user.password)\n        .then(resp => {\n            const token = resp.data.token\n            const user = resp.data.user\n            localStorage.setItem('token', token)\n            // Add the following line:\n            axios.defaults.headers.common['Authorization'] = token\n            commit('auth_success', token, user)\n            resolve(resp)\n        })\n        .catch(err => {\n            commit('auth_error', err)\n            localStorage.removeItem('token')\n            reject(err)\n        })\n    })\n},\nlogout({commit}){\n  return new Promise((resolve, reject) => {\n      commit('logout')\n      localStorage.removeItem('token')\n      delete axios.defaults.headers.common['Authorization']\n      resolve()\n  })\n}\n}\n"]}]}